# 通用工具模块

该目录包含应用程序中可被其他任何模块复用的通用工具、类和函数。

## 文件结构

-   **`constants.py`**: 定义了项目范围内使用的所有常量，如`Enum`类。这包括用于字典键名、参数路径和预览状态的常量，对于确保模块间数据交换的一致性至关重要。
-   **`exceptions.py`**: 定义了项目中使用的自定义异常类。通过创建特定的异常类型，我们可以更精确地捕获和处理预期的错误，从而向用户提供更清晰的反馈，并使代码的错误处理逻辑更健壮。
-   **`__init__.py`**: 使`utils`目录可以作为一个Python包被导入。

## 核心常量 (`constants.py`)

为了避免在代码中使用"魔术字符串"（hard-coded strings），所有在不同模块间共享的标识符都被定义为枚举常量。这包括：
-   **`ResultKeys`**: 用于分析结果字典的键（如`VISUALIZATION`, `MEASUREMENTS`）。
-   **`StageKeys`**: 用于多阶段预览字典的键（如`GRAY`, `BINARY`）。
-   **`PreviewState`**: 用于表示预览窗口状态的标识（如`READY`, `LOADING`）。
-   **`ParameterKeys`**: 用于参数字典的路径和键。

这种做法极大地提高了代码的可读性和可维护性，因为任何键名的更改都只需要在一个地方完成。

## 自定义异常

当标准异常（如`ValueError`, `FileNotFoundError`）不足以描述特定的应用级错误时，我们在此处定义自定义异常。例如：

-   `ImageProcessingError`: 用于封装所有在图像处理环节发生的、非预期的错误。
-   `DpiNotFoundError`: 当图像文件中缺少必要的DPI（分辨率）信息时抛出。

## 未来扩展

该目录是放置任何不属于特定业务逻辑或UI，但又被多处需要的功能的理想场所。未来可能包括：

-   日志记录器 (`logger.py`)
-   通用数据验证函数
-   文件I/O辅助函数 